1 xsh.compile-all.+xü•ÖÔ∏èüåêÔ∏èüì∫Ô∏è.sh
2 #!/bin/bashüé•Ô∏èüü¶Ô∏è
3 #
4 Define
5 the
6 output
7 directory
8 output_dir="+x"
9 #
10 Create
11 the
12 +x/
13 directory
14 if
15 it
16 doesn't
17 exist
18 if
19 [
20 !
21 -d
22 "$output_dir"
23 ];
24 then
25 mkdir
26 "$output_dir"
27 if
28 [
29 $?
30 -ne
31 0
32 ];
33 then
34 echo
35 "Error:
36 Could
37 not
38 create
39 directory
40 $output_dir"
41 exit
42 1
43 fi
44 fi
45 #
46 Loop
47 through
48 all
49 .c
50 files
51 in
52 the
53 current
54 directory
55 for
56 file
57 in
58 *.c;
59 do
60 #
61 Check
62 if
63 any
64 .c
65 files
66 exist
67 (if
68 no
69 matches,
70 *.c
71 becomes
72 literal)
73 if
74 [
75 !
76 -f
77 "$file"
78 ];
79 then
80 echo
81 "No
82 .c
83 files
84 found
85 in
86 the
87 current
88 directory."
89 exit
90 1
91 fi
92 #
93 Extract
94 the
95 filename
96 without
97 the
98 .c
99 extension
100 basename=${file%.c}
101 #
102 Append
103 .+x
104 to
105 the
106 executable
107 name
108 executable_name="${basename}.+x"
109 #
110 Compile
111 the
112 .c
113 file
114 into
115 an
116 executable
117 in
118 the
119 +x/
120 directory
121 with
122 .+x
123 suffix
124 gcc
125 "$file"
126 -o
127 "$output_dir/$executable_name"
128 -pthread
129 -lm
130 -lssl
131 -lcrypto
132 -lGL
133 -lGLU
134 -lglut
135 -lfreetype
136 -lavcodec
137 -lavformat
138 -lavutil
139 -lswscale
140 -lX11
141 -I/usr/include/freetype2
142 -I/usr/include/libpng12
143 -L/usr/local/lib
144 -lOpenCL
145 #
146 Check
147 the
148 exit
149 status
150 of
151 gcc
152 if
153 [
154 $?
155 -eq
156 0
157 ];
158 then
159 echo
160 "Successfully
161 compiled
162 $file
163 into
164 $output_dir/$executable_name"
165 else
166 echo
167 "Error
168 compiling
169 $file"
170 fi
171 done
172 echo
173 "Compilation
174 complete."
175 vocab.txt
176 +x/69.list+dirsüî¶Ô∏è[.]+filt]f6.+x
177 ELF
